<ion-header>

  <ion-navbar class="navbarStyle" color="primary">
    <ion-title>Add a Care Plan</ion-title>
    <ion-buttons end>
      <button ion-button *ngIf="!auth.userLoggedIn" (click)="login()">
        <ion-icon name="unlock"></ion-icon>
      </button>
      <button ion-button *ngIf="auth.userLoggedIn" (click)="logout()">
        <ion-icon name="lock"></ion-icon>
      </button>
      <button ion-button (click)="help()">
        <ion-icon name="help"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content padding>
  <p class="helpful">Creating a new Care Plan.
  </p>
  <br>
  <ion-item text-wrap>
    <ion-textarea type="text" rows=2 placeholder="Name the New plan" [(ngModel)]="newPlan.name" (ngModelChange)="nameChange()">
    </ion-textarea>
  </ion-item>
  <ion-item text-wrap>
    <ion-textarea type="text" rows=4 placeholder="Describe the New plan" [(ngModel)]="newPlan.text">
    </ion-textarea>
  </ion-item>

  <ion-item no-lines>
    <p>There are different ways to create a new plan</p>
    <!-- <ul>
      <li>You may create an "empty" plan and add topics, outcomes, and interventions to it later.</li>
      <li>You may create from a "guided" starter plan, which suggests care focus areas, to which you can add your outcomes and interventions.</li>
       <span *ngIf="auth.userLoggedIn"><li>You may also add standard plans or discipline topics from the Red Book.</li></span> 
      <li>You may copy an existing Plan from your My Care Plans.</li>
      </ul> -->
  </ion-item>
  <ion-item no-lines>
    <p>
      You may create an "empty" plan and add topics, outcomes, and interventions to it later.
    </p>
  </ion-item>
  <ion-item no-lines>
    <button ion-button [disabled]="(!canUseName || !newPlan.name)" (click)="addPlan('empty')">Add Care Plan</button>
  </ion-item>
  <ion-item no-lines>
    <p>You may create from a "guided" starter plan, which suggests care focus areas, to which you can add your outcomes
      and interventions.</p>
  </ion-item>
  <ion-item no-lines>
    <button ion-button [disabled]="(!canUseName || !newPlan.name)" (click)="addPlan('guided')">Add Guided Care Plan</button>
  </ion-item>
  <!-- <ion-item *ngIf="auth.userLoggedIn" no-lines> -->
  <ion-item no-lines>
    <p>You may also add standard plans or discipline topics from the Red Book.</p>
  </ion-item>
  <ion-item *ngIf="auth.userLoggedIn" no-lines>
    <button ion-button [disabled]="(!canUseName || !newPlan.name)" (click)="stdPlan()">Add a
      Standard Plan from the Red Book</button>
  </ion-item>
  <ion-item *ngIf="!auth.userLoggedIn" no-lines>
    <button ion-button [disabled]="(!canUseName || !newPlan.name)" (click)="login()">Log in to Add from the Red Book</button>
  </ion-item>
  <ion-item no-lines>
    <p>You may copy an existing Plan from your My Care Plans.</p>
  </ion-item>
  <ion-item no-lines>
    <button ion-button [disabled]="(!canUseName || !newPlan.name)" (click)="copyPlan()">Copy One of My Plans</button>
  </ion-item>
  <ion-item no-lines>
    <p>The newly-created plan will be shown at the end of your My Care Plans list. You may need to scroll down to see
      it.</p>
  </ion-item>
  <ion-item no-lines>
    <p>Please remember to respect applicable privacy regulations, as well as good professional practice, when naming
      your care plans.</p>
  </ion-item>
  <ion-item no-lines>
    <button ion-button (click)="cancelEdit()">Cancel Adding a Plan</button>
  </ion-item>

</ion-content>